console.log("Init PdfMake", $settings);

function dataAtualFormatada(){
    var data = new Date(),
    dia  = data.getDate().toString(),
    diaF = (dia.length == 1) ? '0'+dia : dia,
    mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro comeÃ§a com zero.
    mesF = (mes.length == 1) ? '0'+mes : mes,
    anoF = data.getFullYear();
    return diaF+"/"+mesF+"/"+anoF;
}

$settings.docDef['footer'] = function(currentPage, pageCount) {
    return currentPage == 1 ? [] : {
        margin: [ 30,10, 30, 0 ],
        style: 'footer',
        columns: [
            { text: currentPage.toString() + '/' + pageCount, alignment: 'left' },
            {
                image: 'data:image/png;base64,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',
                maxWidth: 65,
                alignment: 'center'
            },
            { text: dataAtualFormatada(), alignment: 'right', } 
        ]
    };
};

var progressCallbackMethod = function (progress) {
    document.getElementById("progress").innerHTML = (progress * 100).toFixed(2) + '%';
    if(progress == 1) {
        //document.getElementById("loadingio-spinner").style.display = "none";
    }
};

function resolveAfter2Seconds() {
    return new Promise(resolve => {
        setTimeout(() => {
        pdfMake.createPdf($settings.docDef).open({progressCallback: progressCallbackMethod}, window);
        resolve('resolved');
        }, 2000);
    });
}

async function asyncCall() {
    console.log('calling');
    const result = await resolveAfter2Seconds();
    console.log(result);
    // expected output: "resolved"
}

function start() {
    asyncCall();
//    pdfMake.createPdf($settings.docDef).open({progressCallback: progressCallbackMethod}, window);
    // pdfMake.createPdf($settings.docDef).download('document-tainacan.pdf', null, {progressCallback: progressCallbackMethod});
    // // if (!win) {
    //     var win = window.open('', '_blank');
    //     if (win === null) {
    //         throw 'Open PDF in new window blocked by browser';
    //     }
    // // }
    // pdfDocGenerator = pdfMake.createPdf($settings.docDef);
    // pdfDocGenerator.getBlob(function (result) {
    //     var urlCreator = window.URL || window.webkitURL;
    //     var pdfUrl = urlCreator.createObjectURL(result);
    //     win.location.href = pdfUrl;
    // }, {progressCallback: progressCallbackMethod});
}

